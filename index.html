<!DOCTYPE html>
<html>

<head>
    <title>JSMultipass</title>
</head>
<body>

<h2>Javascript Multipass Port</h2>

<p>Based on SJCL and Multipassify Nodejs code, using AES-128-cbc encryption as required by Shopify</p>

<p id="demo"></p>
<p id="ipaddress"></p>


<script type="module" src="./multiclass.js"></script> 
<script type="text/javascript" src="sjcl.js"></script> 


<script type="module">

  import ShopifyMultipass from './multiclass.js'
 
  // Construct the Multipassify encoder
  var multipass = new ShopifyMultipass("multipass_key");

  // Create your customer data hash
  var customerData = { email: 'user@email.com' };

  // Generate a Shopify multipass URL to your shop
  var url = multipass.generateUrl(customerData, "yourstore.myshopify.com");
  // For debugging purposes:
  console.log("URL: %s", url);


  // Generates a URL like:  https://yourstorename.myshopify.com/account/login/multipass/<MULTIPASS-TOKEN>



</script>

</body>
</html>
